<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>2023Chinavis</title>
    <!-- <link rel="apple-touch-icon" sizes="76x76" href="./static/images/favicon.ico"> -->
    <!-- <link rel="icon" type="image/png" href="./static/imagesfavicon.ico"> -->
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,600,800" rel="stylesheet">
        
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
        
    <!-- Main CSS -->
    <link href="./static/css/main.css" rel="stylesheet"/>
        
    <!-- Animation CSS -->
    <!-- <link href="./static/css/vendor/aos.css" rel="stylesheet"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='static/css/style.css') }}" type="text/css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script language="javascript">
        // var loactionNames = ["钟山","青溪","石头城","三山","新亭","凤凰台","乌衣巷","白鹭洲","玄武湖","冶城","雨花台","方山","朱雀桥","秦淮河","东山","摄山","牛首山","中华门","桃叶渡","长干里","覆舟山","莫愁湖","景阳楼","瓦官寺","光宅寺","新街口","新林浦","清凉寺","燕子矶","劳劳亭","随园","八功德水","中山门","内桥","北门桥","杏花村","谢公墩","半山园","挹江门","麾扇渡","中山路","大行宫","状元境","饮马巷","大王府巷","泥马巷","金銮巷","落星岗","白门"]

        function callPythonAPI(data){
            document.getElementById("generate-peom").innerHTML = "诗词生成中..."
            fetch('http://127.0.0.1:5001/test/'+data ,{
                method:'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(respose =>respose.json())
            .then(result => {
                console.log(result['poem'])
                document.getElementById("generate-peom").innerHTML = result['poem'];
                // return result['poem']
            })
            .catch(error =>{
                console.error(error)
            })
        }
    </script>
</head>
<body>
    
   <!-- 导航栏 -->
    <nav class="topnav navbar navbar-expand-lg navbar-dark  fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html"><i class="fas fa-anchor mr-2"></i><strong>ChinaVis</strong> 2023</a>
            <div class="navbar-collapse collapse" id="navbarColor02" >
                <ul class="navbar-nav mr-auto d-flex align-items-center">
                    <li class="nav-item">
                    <a class="nav-link" href="./index.html">Intro</a>
                    </li>
                    <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Examples </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="./landing.html">Home Landing</a>
                        <a class="dropdown-item" href="./login.html">User Login</a>
                        <a class="dropdown-item" href="./blog.html">Blog Index</a>
                        <a class="dropdown-item" href="./page.html">Sample Page</a>
                    </div>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" href="./docs.html">Docs</a>
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto d-flex align-items-center">
                    <li class="nav-item">
                    <span class="nav-link" href="#">
                    <a class="btn btn-info btn-round shadow-sm" href="#" data-toggle="modal" data-target="#modal_newsletter"><i class="fas fa-cloud-download-alt"></i> Download UI Kit <a href="https://github.com/wowthemesnet/Anchor-Bootstrap-UI-Kit/archive/master.zip" class="downloadzip" class="hidden"></a>
                    </a>
                    </span>
                    </li>
                </ul>
            </div>
        </div>
        </nav>

        <!-------------------------------------
        HEADER
        --------------------------------------->
        <header>
            <div class="jumbotron jumbotron-lg jumbotron-fluid mb-0 pb-3 bg-head position-relative">
                
                <div class="container-fluid text-white h-100">
                    <div class="d-lg-flex align-items-center justify-content-between text-center pl-lg-5">
                        <div class="col pt-4 pb-4">
                            <h1 class="display-3">探文人诗情，寻金陵古迹 <strong>
                            <h5 class="font-weight-light mb-4">With processing</h5>
                            <a href="#" class="btn btn-lg btn-outline-white btn-round">上层遮罩待做</a>
                        </div>
                       
                    </div>
                </div>
            </div>
            <!-- <svg style="-webkit-transform:rotate(-180deg); -moz-transform:rotate(-180deg); -o-transform:rotate(-180deg); transform:rotate(-180deg); margin-top: -1px;" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 1440 126" style="enable-background:new 0 0 1440 126;" xml:space="preserve">
            <path class="bg-head" d="M685.6,38.8C418.7-11.1,170.2,9.9,0,30v96h1440V30C1252.7,52.2,1010,99.4,685.6,38.8z"/> -->
            </svg>
        </header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white"></nav>
        <div class="bg-head">
        <!-- 缘起 -->
            <section class="pt-4 pb-5" data-aos="fade-up" id="example-carousel">
                <h3 class="h5 font-weight-bold" style="text-align: center;">壹</h3>
                <h3 class="h5 font-weight-bold" style="text-align: center;">·</h3>
                <h1 class="mb-4 font-weight-bold" style="text-align: center;">源起</h1>
                <p style="text-align: center;">
                    地名不仅仅是一个称呼，一个特定地域的名称，是有生命的，是一种特定文化的象征，是一种牵动乡土情怀的称谓。  ——冯骥才                                                                                                                     
                </p>
                <div class="row mb-3">
                    <div class="col">
                        <img class="d-block w-100" src="https://images.unsplash.com/photo-1475522003475-eb5f96f1f930?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="First slide">
                    </div>
                    <div class="col">
                        <div class="row mb-3">
                            <div class="col">
                                <h3>地名</h3>
                                <p>乌衣巷</p>
                            </div>
                            <div class="col">
                                <h3>地点类型</h3>
                                <p>古迹</p>
                            </div>
                        </div>
                        <p>
                            东晋时由于建康人口激增，工商业区和住宅区都较东吴时有所扩大。原来的长干里和大市等繁华地区已经不敷应用，开始向东面的秦淮河两岸和青溪方向发展。如王、谢等大族所居住的乌衣巷，就位于朱雀航的东面，这处高级住宅区在东吴原是禁卫军中的“乌衣营”所在地。后来，唐代诗人刘禹锡在题为《乌衣巷》的诗篇中写道：“朱雀桥边野草花，乌衣巷口夕阳斜。旧时王谢堂前燕，飞人寻常百姓家。”——《南京史话上》
                        </p>
                    </div>
                </div>
            </section>
            <!-- 相视·相释 -->
            <section class="pt-4 pb-5" data-aos="fade-up" id="example-carousel">
                <h3 class="h5 font-weight-bold" style="text-align: center;">贰</h3>
                <h3 class="h5 font-weight-bold" style="text-align: center;">·</h3>
                <h1 class="mb-4 font-weight-bold" style="text-align: center;">相视·相释</h1>
                    <p style="text-align: center;">
                        与景相视                                                                                                                   
                    </p>
                    <div class="row mb-3">
                        <div class="col">
                            <img class="d-block w-100" src="https://images.unsplash.com/photo-1475522003475-eb5f96f1f930?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="First slide">
                        </div>
                        <div class="col">
                            <div class="row mb-3">
                                <div class="col">
                                    <h3>地名</h3>
                                    <p>乌衣巷</p>
                                </div>
                                <div class="col">
                                    <h3>地点类型</h3>
                                    <p>古迹</p>
                                </div>
                            </div>
                            <p style="text-align: center;">
                                文字描述。<br>
                                历朝历代共有x位诗人描写过金陵，留下了x篇诗词。<br>
                                其中x朝的金陵诗词最多，x朝的诗词最少。<br>
                                x诗人的诗词数量最多<br>
                                ......
                            </p>
                        </div>
                    </div>
                    <p style="text-align: center;">
                        共有x位诗人的作品中提到了具体的金陵地点<br>
                        提到最多的为 xxx（地点）<br>
                        诗人与景相视 触景生情 我们统计了每个地点诗人诗词中的情感倾向<br>
                        可视化如下图 横轴为地点 竖轴为朝代 圆大小为到提到此地的诗词数量 圆填充颜色为积极情绪/消极情绪比值<br>
                        ......
                    </p>
                    <img class="d-block w-100" src="https://images.unsplash.com/photo-1475522003475-eb5f96f1f930?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="First slide">

                    <p style="text-align: center;">
                        以诗相释                                                                                                                   
                    </p>
                    
                    <p style="text-align: center;">
                        基于fasttext训练模型为诗词主题分类 并提取了不同地点、不同主题诗词中的意象
                    </p>
                    <img class="d-block w-100" src="https://images.unsplash.com/photo-1475522003475-eb5f96f1f930?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="First slide">

            </section>
        </div>

        <!--- END HEADER -->
        <div class="get-poem bg-head">
            <!-- <button onclick="exec1('python3.11 /Users/hexi/Desktop/2023Chinavis/Flask-website/test.py')">调用诗词生成</button> -->
            {% for location_name in locationNames %}
                <button onclick="callPythonAPI(value)" value={{location_name}}> {{location_name}}</button>
            {% endfor %}
        </div>
        <div id="generate-peom"></div>
            
        <main class="container">
            
        
        
        <!-- Animation -->
        <script src="./static/js/vendor/aos.js" type="text/javascript"></script>
        <noscript>
            <style>
                *[data-aos] {
                    display: block !important;
                    opacity: 1 !important;
                    visibility: visible !important;
                }
            </style>
        </noscript>
        <script>
            AOS.init({
                duration: 700
            });
        </script>
         
        <!-- Disable animation on less than 1200px, change value if you like -->
        <script>
        AOS.init({
          disable: function () {
            var maxWidth = 1200;
            return window.innerWidth < maxWidth;
          }
        });
        </script>
            
       
            
        </body>
</body>
</html>